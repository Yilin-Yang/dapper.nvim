Execute (Declare Mock MiddleTalker):
  " mock middletalker
  function! MockSub(pattern, Callback) abort
    let g:last_sub = [a:pattern, a:Callback]
  endfunction

  function! MockReq(command, request_args, Callback) abort
    let g:last_req = [a:command, a:request_args, a:Callback]
  endfunction

  function! MockNoOp(...) abort
  endfunction

  let g:mock_mt = {
    \ 'subscribe': function('MockSub'),
    \ 'unsubscribe': function('MockNoOp'),
    \ 'request': function('MockReq'),
    \ 'receive': function('MockNoOp'),
  \ }
