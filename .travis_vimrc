set nocompatible
filetype off
filetype plugin indent on
syntax enable
set autoread
set hidden
set number

execute 'set runtimepath+='.getcwd()
execute 'set runtimepath+='.getcwd().'/..'
function! AddDependency(plugin) abort
  execute 'set runtimepath+='.a:plugin
  execute 'set runtimepath+=~/.vim/bundle/'.a:plugin
endfunction
call AddDependency('vader.vim')
call AddDependency('vim-maktaba')
call AddDependency('TypeVim')
call AddDependency('VSCrib.vim')
call maktaba#plugin#Detect()

let g:project_root = split(getcwd(), '/test')[0]
let g:test_dir = g:project_root.'/test'
let g:dapper_logfile = g:project_root.'/test/LOGFILE'
let g:dapper_echo_messages = 'never'

if $DAPPER_TEST_DEBUG_LOGGING
  let g:dapper_log_buffer_writeback = 'every2'
endif

call dapper#AddDapperConfig(
  \ 'node',
  \ g:project_root.'/node_modules/vscode-mock-debug/out/debugAdapter.js',
  \ 'mock',
  \ 'markdown')
